<!DOCTYPE html>
{% extends 'rango/base.html' %}
{% load static %}

{% block title_block %}
	Category
{% endblock %}

{% block body_block %}
	<head>
		<title>Rango</title>
	</head>

	<body>
		<div>
			{% if category %}
				<div class="jumbotron p-4">
					<div class="container">
						<h1 class="jumbotron-heading">{{category.name}}</h1>
						<div class="float-right">
							{% if user.is_authenticated %}
								<a class="btn btn-primary" href="{% url 'rango:upload' category.slug %}">Add Meme to this category</a> <br />
							{% endif %}
						</div>
					</div>
				</div>
				{% if memes %}
					{% for meme in memes %}
					<div class="container">
						<div class="img-box">
							<p class="lead">{{meme.title}}</p>
							<img src= "{{MEDIA_URL}}{{meme.image}}" alt="{{meme.title}}" width="300" height="400" class="rounded" /> <br />
						</div>
						<div class="p-3">
							<strong id="like_count">{{ meme.likes }}</strong> likes
							{% if user.is_authenticated %}
							<button id="like_btn"
									data-memeid="{{ meme.id }}"
									class="btn btn-primary btn-sm"
									type="button">
								<span data-feather="thumbs-up"></span>
								Like Meme
							</button>
							
							{% endif %}
						</div>
						
						<div class="p-3">
							<strong id="dislike_count">{{ meme.dislikes }}</strong> dislikes
							{% if user.is_authenticated %}
							<button id="dislike_btn"
									data-memeid="{{ meme.id }}"
									class="btn btn-primary btn-sm"
									type="button"
									button class=red>
								<span data-feather="thumbs-down"></span>
								Dislike Meme
							</button>
							
							{% endif %}
						</div>
						
						
						<hr>
						<br />
					</div>
					{% endfor %}
				{% else %}
					<strong>No memes currently in category.</strong>
				{% endif %}
					</div>
			{% else %}
				The specified category does not exist.
			{% endif %}
		</div>
	</body>
{% endblock %}
